```{python}
import pandas as pd
import plotly.io as pio
pio.templates.default = "plotly_white" # Set plotly theme

from pv_evaluation.utils import compare_plots
from pv_evaluation.summary import InventorDisambiguationSummary
from pv_evaluation.benchmark import inventor_benchmark_plot
```

# Summary Statistics

```{python}
summarizers = {filename: InventorDisambiguationSummary(filename) for filename in {{ summary_table_files }} }
```

::: {.panel-tabset}

## Cluster Sizes

{% include 'inventor/callouts/cluster-sizes-tips.qmd' %}

:::{.column-body-outset}
```{python}
fig = compare_plots(*[s.plot_cluster_size_distribution() for s in summarizers.values()])
fig.update_layout(autosize=False, width=800)
fig.show()
```
:::

## Top Inventors

{% include 'inventor/callouts/top-inventors-tips.qmd' %}

::: {.panel-tabset}

{% for filename in  summary_table_files%}

## {{ filename }}

```{python}
summarizers["{{ filename }}"].get_top_inventors(n=20)
```

{% endfor %}

:::

## Entropy Curve

{% include 'inventor/callouts/entropy-tips.qmd' %}

:::{.column-body-outset}
```{python}
fig = compare_plots(*[s.plot_entropy_curve() for s in summarizers.values()])
fig.update_layout(autosize=False, width=800)
fig.show()
```
:::

## Cluster Homogeneity

{% include 'inventor/callouts/cluster-homogeneity-tips.qmd' %}

:::{.column-body-outset}
```{python}
fig = compare_plots(*[s.plot_cluster_unique_name_distribution() for s in summarizers.values()])
fig.update_layout(autosize=False, width=800)
fig.show()
```
:::

## Between-cluster similarity

{% include 'inventor/callouts/between-cluster-tips.qmd'%}

:::{.column-body-outset}
```{python}
fig = compare_plots(*[s.plot_homonymy_rate_distribution() for s in summarizers.values()])
fig.update_layout(autosize=False, width=800)
fig.show()
```
:::

:::
