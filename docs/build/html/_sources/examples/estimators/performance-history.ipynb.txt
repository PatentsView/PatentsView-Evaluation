{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Disambiguation Performance History\n",
    "\n",
    "This notebook showcases the use of the `inventor_estimates_trend_plot()` function to easily obtain the history of PatentsView's disambiguation performance since 2017. \n",
    "\n",
    "By default, `inventor_estimates_trend_plot()` uses Binette's 2022 inventors benchmark for performance estimates. This benchmark covers 1976 to December 31, 2021. As such, disambiguations need to be restricted to this timeframe and performance estimates are only representative of this time period."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Step 1: Download Required Files From PatentsView's Bulk Data Downloads\n",
    "\n",
    "The first step is to download the file \"g_persistent_inventor.tsv\" and \"g_patent.tsv\" from PatentsView's bulk data downloads. The first file contains PatentsView's disambiguation history. The second file contains patent grant dates which are needed to subset the disambiguations to the required timeframe."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import wget\n",
    "import zipfile\n",
    "import os\n",
    "from urllib.parse import urlparse\n",
    "\n",
    "import plotly.graph_objects as go\n",
    "import plotly.io as pio\n",
    "pio.templates.default = \"plotly_white\" # Set plotly theme\n",
    "\n",
    "def download_unzip(url, overwrite=False):\n",
    "    basename = os.path.basename(urlparse(url).path)\n",
    "    filename = basename.rstrip(\".zip\")\n",
    "    if not os.path.isfile(filename) or overwrite:\n",
    "        wget.download(url)\n",
    "        with zipfile.ZipFile(basename, 'r') as zip_ref:\n",
    "            zip_ref.extractall(\".\")\n",
    "        os.remove(basename)\n",
    "    return filename\n",
    "\n",
    "persistent_inventor_file = download_unzip(\"https://s3.amazonaws.com/data.patentsview.org/download/g_persistent_inventor.tsv.zip\")\n",
    "patent_file = download_unzip(\"https://s3.amazonaws.com/data.patentsview.org/download/g_patent.tsv.zip\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Step 2: Subset Disambiguations to the Required Timeframe\n",
    "\n",
    "We can now subset disambiguations to the same timeframe as Binette's 2022 inventors benchmark."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "persistent_inventor = pd.read_csv(persistent_inventor_file, sep=\"\\t\", dtype=str)\n",
    "patent = pd.read_csv(patent_file, sep=\"\\t\", dtype=str)\n",
    "persistent_inventor = persistent_inventor.merge(patent[[\"patent_id\", \"patent_date\"]], on=\"patent_id\", how=\"left\")\n",
    "\n",
    "persistent_inventor = persistent_inventor.query(\"patent_date < '2022-01-01'\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Step 3: Plot Disambiguation History\n",
    "\n",
    "`inventor_estimates_trend_plot()` is now ready to be called on the disambiguation history file."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/svg+xml": "<svg class=\"main-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"700\" height=\"500\" style=\"\" viewBox=\"0 0 700 500\"><rect x=\"0\" y=\"0\" width=\"700\" height=\"500\" style=\"fill: rgb(255, 255, 255); fill-opacity: 1;\"/><defs id=\"defs-9847cc\"><g class=\"clips\"><clipPath id=\"clip9847ccxyplot\" class=\"plotclip\"><rect width=\"446\" height=\"360\"/></clipPath><clipPath class=\"axesclip\" id=\"clip9847ccx\"><rect x=\"80\" y=\"0\" width=\"446\" height=\"500\"/></clipPath><clipPath class=\"axesclip\" id=\"clip9847ccy\"><rect x=\"0\" y=\"60\" width=\"700\" height=\"360\"/></clipPath><clipPath class=\"axesclip\" id=\"clip9847ccxy\"><rect x=\"80\" y=\"60\" width=\"446\" height=\"360\"/></clipPath></g><g class=\"gradients\"/><g class=\"patterns\"/></defs><g class=\"bglayer\"/><g class=\"layer-below\"><g class=\"imagelayer\"/><g class=\"shapelayer\"/></g><g class=\"cartesianlayer\"><g class=\"subplot xy\"><g class=\"layer-subplot\"><g class=\"shapelayer\"/><g class=\"imagelayer\"/></g><g class=\"minor-gridlayer\"><g class=\"x\"/><g class=\"y\"/></g><g class=\"gridlayer\"><g class=\"x\"><path class=\"xgrid crisp\" transform=\"translate(138.23,0)\" d=\"M0,60v360\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(218.69,0)\" d=\"M0,60v360\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(299.14,0)\" d=\"M0,60v360\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(379.82,0)\" d=\"M0,60v360\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(460.27,0)\" d=\"M0,60v360\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/></g><g class=\"y\"><path class=\"ygrid crisp\" transform=\"translate(0,409.52)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,352.82)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,296.12)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,239.42)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,182.72)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,126.02)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,69.31)\" d=\"M80,0h446\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/></g></g><g class=\"zerolinelayer\"/><path class=\"xlines-below\"/><path class=\"ylines-below\"/><g class=\"overlines-below\"/><g class=\"xaxislayer-below\"/><g class=\"yaxislayer-below\"/><g class=\"overaxes-below\"/><g class=\"plot\" transform=\"translate(80,60)\" clip-path=\"url(#clip9847ccxyplot)\"><g class=\"scatterlayer mlayer\"><g class=\"trace scatter traceebf19d\" style=\"stroke-miterlimit: 2; opacity: 1;\"><g class=\"fills\"/><g class=\"errorbars\"><g class=\"errorbar\"><path class=\"yerror\" d=\"M22.05,182.95h8m-4,0V307.44m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M34.39,197.95h8m-4,0V342m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M52.91,40.67h8m-4,0V77.11m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M86.63,58.71h8m-4,0V101.88m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M126.97,61.96h8m-4,0V102.58m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M150.12,63.39h8m-4,0V108.51m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M185.61,74.84h8m-4,0V118.83m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M196.41,73.64h8m-4,0V124.95m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M214.92,67.01h8m-4,0V114.12m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M234.98,65.57h8m-4,0V113.46m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M255.04000000000002,69.37h8m-4,0V118.46m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M275.1,64.49h8m-4,0V114.61m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M295.16,51.68h8m-4,0V73.1m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M375.83,47.67h8m-4,0V68.71m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M415.95,50.8h8m-4,0V72.1m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g></g><g class=\"lines\"><path class=\"js-line\" d=\"M26.05,245.19L38.39,269.97L56.91,58.89L90.63,80.3L130.97,82.27L154.12,85.95L189.61,96.83L200.41,99.29L218.92,90.56L238.98,89.51L259.04,93.91L279.1,89.55L299.16,62.39L379.83,58.19L419.95,61.45\" style=\"vector-effect: non-scaling-stroke; fill: none; stroke: rgb(229, 134, 6); stroke-opacity: 1; stroke-width: 2px; opacity: 1;\"/></g><g class=\"points\"><path class=\"point\" transform=\"translate(26.05,245.19)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(38.39,269.97)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(56.91,58.89)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(90.63,80.3)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(130.97,82.27)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(154.12,85.95)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(189.61,96.83)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(200.41,99.29)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(218.92,90.56)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(238.98,89.51)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(259.04,93.91)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(279.1,89.55)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(299.16,62.39)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(379.83,58.19)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(419.95,61.45)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/></g><g class=\"text\"/></g><g class=\"trace scatter traceb9e223\" style=\"stroke-miterlimit: 2; opacity: 1;\"><g class=\"fills\"/><g class=\"errorbars\"><g class=\"errorbar\"><path class=\"yerror\" d=\"M22.05,25.63h8m-4,0V36.17m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M34.39,29.21h8m-4,0V40.22m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M52.91,47.76h8m-4,0V63.01m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M86.63,35.02h8m-4,0V48.38m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M126.97,28.63h8m-4,0V39.32m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M150.12,27.05h8m-4,0V37.29m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M185.61,26.28h8m-4,0V36.46m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M196.41,25.88h8m-4,0V35.87m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M214.92,24.82h8m-4,0V33.88m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M234.98,26.32h8m-4,0V36m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M255.04000000000002,31.09h8m-4,0V43.95m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M275.1,63.93h8m-4,0V72.27m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M295.16,18.51h8m-4,0V26.15m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M375.83,25.25h8m-4,0V34.53m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\"><path class=\"yerror\" d=\"M415.95,18h8m-4,0V25.82m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g></g><g class=\"lines\"><path class=\"js-line\" d=\"M26.05,30.9L38.39,34.71L56.91,55.38L90.63,41.7L130.97,33.97L154.12,32.17L189.61,31.37L218.92,29.35L238.98,31.16L259.04,37.52L279.1,68.1L299.16,22.33L379.83,29.89L419.95,21.91\" style=\"vector-effect: non-scaling-stroke; fill: none; stroke: rgb(93, 105, 177); stroke-opacity: 1; stroke-width: 2px; opacity: 1;\"/></g><g class=\"points\"><path class=\"point\" transform=\"translate(26.05,30.9)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(38.39,34.71)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(56.91,55.38)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(90.63,41.7)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(130.97,33.97)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(154.12,32.17)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(189.61,31.37)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(200.41,30.87)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(218.92,29.35)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(238.98,31.16)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(259.04,37.52)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(279.1,68.1)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(299.16,22.33)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(379.83,29.89)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(419.95,21.91)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/></g><g class=\"text\"/></g></g></g><g class=\"overplot\"/><path class=\"xlines-above crisp\" d=\"M0,0\" style=\"fill: none;\"/><path class=\"ylines-above crisp\" d=\"M0,0\" style=\"fill: none;\"/><g class=\"overlines-above\"/><g class=\"xaxislayer-above\"><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"433\" transform=\"translate(138.23,0)\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\">2018</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"433\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(218.69,0)\">2019</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"433\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(299.14,0)\">2020</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"433\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(379.82,0)\">2021</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"433\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(460.27,0)\">2022</text></g></g><g class=\"yaxislayer-above\"><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" transform=\"translate(0,409.52)\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\">0.4</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,352.82)\">0.5</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,296.12)\">0.6</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,239.42)\">0.7</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,182.72)\">0.8</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,126.02)\">0.9</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"79\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,69.31)\">1</text></g></g><g class=\"overaxes-above\"/></g></g><g class=\"polarlayer\"/><g class=\"smithlayer\"/><g class=\"ternarylayer\"/><g class=\"geolayer\"/><g class=\"funnelarealayer\"/><g class=\"pielayer\"/><g class=\"iciclelayer\"/><g class=\"treemaplayer\"/><g class=\"sunburstlayer\"/><g class=\"glimages\"/><defs id=\"topdefs-9847cc\"><g class=\"clips\"/><clipPath id=\"legend9847cc\"><rect width=\"153\" height=\"67\" x=\"0\" y=\"0\"/></clipPath></defs><g class=\"layer-above\"><g class=\"imagelayer\"/><g class=\"shapelayer\"/></g><g class=\"infolayer\"><g class=\"legend\" pointer-events=\"all\" transform=\"translate(534.9200000000001,60)\"><rect class=\"bg\" shape-rendering=\"crispEdges\" style=\"stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1; stroke-width: 0px;\" width=\"153\" height=\"67\" x=\"0\" y=\"0\"/><g class=\"scrollbox\" transform=\"\" clip-path=\"url(#legend9847cc)\"><text class=\"legendtitletext\" text-anchor=\"start\" x=\"2\" y=\"18.2\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">estimator</text><g class=\"groups\" transform=\"\"><g class=\"traces\" transform=\"translate(0,32.7)\" style=\"opacity: 1;\"><text class=\"legendtext\" text-anchor=\"start\" x=\"40\" y=\"4.680000000000001\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">pairwise precision</text><g class=\"layers\" style=\"opacity: 1;\"><g class=\"legendfill\"/><g class=\"legendlines\"><path class=\"js-line\" d=\"M5,0h30\" style=\"fill: none; stroke: rgb(229, 134, 6); stroke-opacity: 1; stroke-width: 2px;\"/></g><g class=\"legendsymbols\"><g class=\"legendpoints\"><path class=\"scatterpts\" transform=\"translate(20,0)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/></g></g></g><rect class=\"legendtoggle\" x=\"0\" y=\"-9.5\" width=\"147.984375\" height=\"19\" style=\"fill: rgb(0, 0, 0); fill-opacity: 0;\"/></g></g><g class=\"groups\" transform=\"\"><g class=\"traces\" transform=\"translate(0,51.7)\" style=\"opacity: 1;\"><text class=\"legendtext\" text-anchor=\"start\" x=\"40\" y=\"4.680000000000001\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">pairwise recall</text><g class=\"layers\" style=\"opacity: 1;\"><g class=\"legendfill\"/><g class=\"legendlines\"><path class=\"js-line\" d=\"M5,0h30\" style=\"fill: none; stroke: rgb(93, 105, 177); stroke-opacity: 1; stroke-width: 2px;\"/></g><g class=\"legendsymbols\"><g class=\"legendpoints\"><path class=\"scatterpts\" transform=\"translate(20,0)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/></g></g></g><rect class=\"legendtoggle\" x=\"0\" y=\"-9.5\" width=\"147.984375\" height=\"19\" style=\"fill: rgb(0, 0, 0); fill-opacity: 0;\"/></g></g></g><rect class=\"scrollbar\" rx=\"20\" ry=\"3\" width=\"0\" height=\"0\" style=\"fill: rgb(128, 139, 164); fill-opacity: 1;\" x=\"0\" y=\"0\"/></g><g class=\"g-gtitle\"/><g class=\"g-xtitle\"><text class=\"xtitle\" x=\"303\" y=\"460.8\" text-anchor=\"middle\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); opacity: 1; font-weight: normal; white-space: pre;\">date</text></g><g class=\"g-ytitle\"><text class=\"ytitle\" transform=\"rotate(-90,35.10625,240)\" x=\"35.10625\" y=\"240\" text-anchor=\"middle\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); opacity: 1; font-weight: normal; white-space: pre;\">value</text></g></g></svg>"
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "from pv_evaluation.benchmark import inventor_estimates_trend_plot\n",
    "\n",
    "fig = inventor_estimates_trend_plot(persistent_inventor)\n",
    "fig.show(renderer=\"svg\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The plot's appearance can be tweaked as desired:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/svg+xml": "<svg class=\"main-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"800\" height=\"300\" style=\"\" viewBox=\"0 0 800 300\"><rect x=\"0\" y=\"0\" width=\"800\" height=\"300\" style=\"fill: rgb(255, 255, 255); fill-opacity: 1;\"/><defs id=\"defs-f4d347\"><g class=\"clips\"><clipPath id=\"clipf4d347xyplot\" class=\"plotclip\"><rect width=\"567\" height=\"187\"/></clipPath><clipPath class=\"axesclip\" id=\"clipf4d347x\"><rect x=\"57\" y=\"0\" width=\"567\" height=\"300\"/></clipPath><clipPath class=\"axesclip\" id=\"clipf4d347y\"><rect x=\"0\" y=\"60\" width=\"800\" height=\"187\"/></clipPath><clipPath class=\"axesclip\" id=\"clipf4d347xy\"><rect x=\"57\" y=\"60\" width=\"567\" height=\"187\"/></clipPath></g><g class=\"gradients\"/><g class=\"patterns\"/></defs><g class=\"bglayer\"/><g class=\"layer-below\"><g class=\"imagelayer\"/><g class=\"shapelayer\"/></g><g class=\"cartesianlayer\"><g class=\"subplot xy\"><g class=\"layer-subplot\"><g class=\"shapelayer\"/><g class=\"imagelayer\"/></g><g class=\"minor-gridlayer\"><g class=\"x\"/><g class=\"y\"/></g><g class=\"gridlayer\"><g class=\"x\"><path class=\"xgrid crisp\" transform=\"translate(130.18,0)\" d=\"M0,60v187\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(232.88,0)\" d=\"M0,60v187\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(335.58,0)\" d=\"M0,60v187\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(438.56,0)\" d=\"M0,60v187\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"xgrid crisp\" transform=\"translate(541.25,0)\" d=\"M0,60v187\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/></g><g class=\"y\"><path class=\"ygrid crisp\" transform=\"translate(0,241.52)\" d=\"M57,0h567\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,183.22)\" d=\"M57,0h567\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,124.92)\" d=\"M57,0h567\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/><path class=\"ygrid crisp\" transform=\"translate(0,66.63)\" d=\"M57,0h567\" style=\"stroke: rgb(235, 240, 248); stroke-opacity: 1; stroke-width: 1px;\"/></g></g><g class=\"zerolinelayer\"/><path class=\"xlines-below\"/><path class=\"ylines-below\"/><g class=\"overlines-below\"/><g class=\"xaxislayer-below\"/><g class=\"yaxislayer-below\"/><g class=\"overaxes-below\"/><g class=\"plot\" transform=\"translate(57,60)\" clip-path=\"url(#clipf4d347xyplot)\"><g class=\"scatterlayer mlayer\"><g class=\"trace scatter trace201fb6\" style=\"stroke-miterlimit: 2; opacity: 1;\"><g class=\"fills\"/><g class=\"errorbars\"><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M28.1,95.89h8m-4,0V159.88m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M43.86,103.6h8m-4,0V177.65m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M67.49,22.74h8m-4,0V41.48m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M110.54,32.02h8m-4,0V54.21m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M162.03,33.69h8m-4,0V54.57m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M191.57,34.42h8m-4,0V57.62m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M236.87,40.31h8m-4,0V62.93m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M250.66,39.69h8m-4,0V66.07m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M274.29,36.29h8m-4,0V60.5m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M299.9,35.54h8m-4,0V60.16m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M325.5,37.5h8m-4,0V62.73m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M351.11,34.99h8m-4,0V60.76m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M376.71,28.41h8m-4,0V39.42m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M479.69,26.34h8m-4,0V37.16m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M530.9,27.95h8m-4,0V38.9m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(229, 134, 6); stroke-opacity: 1;\"/></g></g><g class=\"lines\"><path class=\"js-line\" d=\"M32.1,127.89L47.86,140.62L71.49,32.11L114.54,43.12L166.03,44.13L195.57,46.02L240.87,51.62L254.66,52.88L278.29,48.39L303.9,47.85L329.5,50.12L355.11,47.87L380.71,33.91L483.69,31.75L534.9,33.43\" style=\"vector-effect: non-scaling-stroke; fill: none; stroke: rgb(229, 134, 6); stroke-opacity: 1; stroke-width: 2px; opacity: 1;\"/></g><g class=\"points\"><path class=\"point\" transform=\"translate(32.1,127.89)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(47.86,140.62)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(71.49,32.11)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(114.54,43.12)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(166.03,44.13)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(195.57,46.02)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(240.87,51.62)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(254.66,52.88)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(278.29,48.39)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(303.9,47.85)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(329.5,50.12)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(355.11,47.87)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(380.71,33.91)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(483.69,31.75)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(534.9,33.43)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/></g><g class=\"text\"/></g><g class=\"trace scatter trace4f46de\" style=\"stroke-miterlimit: 2; opacity: 1;\"><g class=\"fills\"/><g class=\"errorbars\"><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M28.1,15.01h8m-4,0V20.43m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M43.86,16.85h8m-4,0V22.51m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M67.49,26.39h8m-4,0V34.23m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M110.54,19.84h8m-4,0V26.71m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M162.03,16.55h8m-4,0V22.05m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M191.57,15.74h8m-4,0V21.01m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M236.87,15.35h8m-4,0V20.58m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M250.66,15.14h8m-4,0V20.28m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M274.29,14.6h8m-4,0V19.25m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M299.9,15.37h8m-4,0V20.34m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M325.5,17.82h8m-4,0V24.43m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M351.11,34.7h8m-4,0V38.99m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M376.71,11.35h8m-4,0V15.28m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M479.69,14.82h8m-4,0V19.59m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g><g class=\"errorbar\" style=\"opacity: 1;\"><path class=\"yerror\" d=\"M530.9,11.09h8m-4,0V15.11m-4,0h8\" style=\"vector-effect: non-scaling-stroke; stroke-width: 2px; stroke: rgb(93, 105, 177); stroke-opacity: 1;\"/></g></g><g class=\"lines\"><path class=\"js-line\" d=\"M32.1,17.72L47.86,19.68L71.49,30.31L114.54,23.27L166.03,19.3L195.57,18.38L240.87,17.96L278.29,16.93L303.9,17.85L329.5,21.13L355.11,36.85L380.71,13.32L483.69,17.2L534.9,13.1\" style=\"vector-effect: non-scaling-stroke; fill: none; stroke: rgb(93, 105, 177); stroke-opacity: 1; stroke-width: 2px; opacity: 1;\"/></g><g class=\"points\"><path class=\"point\" transform=\"translate(32.1,17.72)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(47.86,19.68)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(71.49,30.31)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(114.54,23.27)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(166.03,19.3)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(195.57,18.38)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(240.87,17.96)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(254.66,17.71)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(278.29,16.93)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(303.9,17.85)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(329.5,21.13)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(355.11,36.85)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(380.71,13.32)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(483.69,17.2)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/><path class=\"point\" transform=\"translate(534.9,13.1)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/></g><g class=\"text\"/></g></g></g><g class=\"overplot\"/><path class=\"xlines-above crisp\" d=\"M0,0\" style=\"fill: none;\"/><path class=\"ylines-above crisp\" d=\"M0,0\" style=\"fill: none;\"/><g class=\"overlines-above\"/><g class=\"xaxislayer-above\"><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"260\" transform=\"translate(130.18,0)\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\">2018</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"260\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(232.88,0)\">2019</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"260\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(335.58,0)\">2020</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"260\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(438.56,0)\">2021</text></g><g class=\"xtick\"><text text-anchor=\"middle\" x=\"0\" y=\"260\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(541.25,0)\">2022</text></g></g><g class=\"yaxislayer-above\"><g class=\"ytick\"><text text-anchor=\"end\" x=\"56\" y=\"4.199999999999999\" transform=\"translate(0,241.52)\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\">0.4</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"56\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,183.22)\">0.6</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"56\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,124.92)\">0.8</text></g><g class=\"ytick\"><text text-anchor=\"end\" x=\"56\" y=\"4.199999999999999\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre; opacity: 1;\" transform=\"translate(0,66.63)\">1</text></g></g><g class=\"overaxes-above\"/></g></g><g class=\"polarlayer\"/><g class=\"smithlayer\"/><g class=\"ternarylayer\"/><g class=\"geolayer\"/><g class=\"funnelarealayer\"/><g class=\"pielayer\"/><g class=\"iciclelayer\"/><g class=\"treemaplayer\"/><g class=\"sunburstlayer\"/><g class=\"glimages\"/><defs id=\"topdefs-f4d347\"><g class=\"clips\"/><clipPath id=\"legendf4d347\"><rect width=\"153\" height=\"67\" x=\"0\" y=\"0\"/></clipPath></defs><g class=\"layer-above\"><g class=\"imagelayer\"/><g class=\"shapelayer\"/></g><g class=\"infolayer\"><g class=\"legend\" pointer-events=\"all\" transform=\"translate(635.34,60)\"><rect class=\"bg\" shape-rendering=\"crispEdges\" width=\"153\" height=\"67\" x=\"0\" y=\"0\" style=\"stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1; stroke-width: 0px;\"/><g class=\"scrollbox\" transform=\"\" clip-path=\"url(#legendf4d347)\"><text class=\"legendtitletext\" text-anchor=\"start\" x=\"2\" y=\"18.2\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">estimator</text><g class=\"groups\" transform=\"\"><g class=\"traces\" transform=\"translate(0,32.7)\" style=\"opacity: 1;\"><text class=\"legendtext\" text-anchor=\"start\" x=\"40\" y=\"4.680000000000001\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">pairwise precision</text><g class=\"layers\" style=\"opacity: 1;\"><g class=\"legendfill\"/><g class=\"legendlines\"><path class=\"js-line\" d=\"M5,0h30\" style=\"fill: none; stroke: rgb(229, 134, 6); stroke-opacity: 1; stroke-width: 2px;\"/></g><g class=\"legendsymbols\"><g class=\"legendpoints\"><path class=\"scatterpts\" transform=\"translate(20,0)\" d=\"M3,0A3,3 0 1,1 0,-3A3,3 0 0,1 3,0Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(229, 134, 6); fill-opacity: 1;\"/></g></g></g><rect class=\"legendtoggle\" x=\"0\" y=\"-9.5\" width=\"147.984375\" height=\"19\" style=\"fill: rgb(0, 0, 0); fill-opacity: 0;\"/></g></g><g class=\"groups\" transform=\"\"><g class=\"traces\" transform=\"translate(0,51.7)\" style=\"opacity: 1;\"><text class=\"legendtext\" text-anchor=\"start\" x=\"40\" y=\"4.680000000000001\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;\">pairwise recall</text><g class=\"layers\" style=\"opacity: 1;\"><g class=\"legendfill\"/><g class=\"legendlines\"><path class=\"js-line\" d=\"M5,0h30\" style=\"fill: none; stroke: rgb(93, 105, 177); stroke-opacity: 1; stroke-width: 2px;\"/></g><g class=\"legendsymbols\"><g class=\"legendpoints\"><path class=\"scatterpts\" transform=\"translate(20,0)\" d=\"M3.9,0L0,3.9L-3.9,0L0,-3.9Z\" style=\"opacity: 1; stroke-width: 0px; fill: rgb(93, 105, 177); fill-opacity: 1;\"/></g></g></g><rect class=\"legendtoggle\" x=\"0\" y=\"-9.5\" width=\"147.984375\" height=\"19\" style=\"fill: rgb(0, 0, 0); fill-opacity: 0;\"/></g></g></g><rect class=\"scrollbar\" rx=\"20\" ry=\"3\" width=\"0\" height=\"0\" x=\"0\" y=\"0\" style=\"fill: rgb(128, 139, 164); fill-opacity: 1;\"/></g><g class=\"g-gtitle\"><text class=\"gtitle\" x=\"40\" y=\"30\" text-anchor=\"start\" dy=\"0em\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 17px; fill: rgb(42, 63, 95); opacity: 1; font-weight: normal; white-space: pre;\">Pairwise precision and Recall</text></g><g class=\"g-xtitle\"><text class=\"xtitle\" x=\"340.5\" y=\"287.8\" text-anchor=\"middle\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); opacity: 1; font-weight: normal; white-space: pre;\">date</text></g><g class=\"g-ytitle\" transform=\"translate(0.8935546875,0)\"><text class=\"ytitle\" transform=\"rotate(-90,12.106250000000003,153.5)\" x=\"12.106250000000003\" y=\"153.5\" text-anchor=\"middle\" style=\"font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(42, 63, 95); opacity: 1; font-weight: normal; white-space: pre;\">value</text></g></g></svg>"
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "fig.update_layout(\n",
    "    width=800,\n",
    "    height=300,\n",
    "    title=\"Pairwise precision and Recall\"\n",
    ")\n",
    "fig['layout'].update(margin=dict(l=20,r=20,b=20,t=60))\n",
    "\n",
    "fig.write_image(\"performance_trend.pdf\")\n",
    "fig.show(renderer=\"svg\")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3.7.15 ('pv-evaluation': conda)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.15"
  },
  "orig_nbformat": 4,
  "vscode": {
   "interpreter": {
    "hash": "135eb778a123b23717215bebe642ebc480e0ab0e1bc583cf4971f84281f0b229"
   }
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
